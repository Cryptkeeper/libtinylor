<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libtinylor: src/tinylor.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libtinylor
   </div>
   <div id="projectbrief">Single-file header library for controlling Light-O-Rama hardware</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('tinylor_8c.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">tinylor.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Protocol encoding functions implementation.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="tinylor_8h_source.html">tinylor.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for tinylor.c:</div>
<div class="dyncontent">
<div class="center"><img src="tinylor_8c__incl.png" border="0" usemap="#asrc_2tinylor_8c" alt=""/></div>
<map name="asrc_2tinylor_8c" id="asrc_2tinylor_8c">
<area shape="rect" title="Protocol encoding functions implementation." alt="" coords="5,5,94,31"/>
<area shape="rect" href="tinylor_8h.html" title="A tiny library for generating LOR protocol requests." alt="" coords="16,79,83,105"/>
<area shape="poly" title=" " alt="" coords="52,31,52,63,47,63,47,31"/>
<area shape="rect" title=" " alt="" coords="15,153,84,178"/>
<area shape="poly" title=" " alt="" coords="52,105,52,137,47,137,47,105"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a566277d44fc02828619810c36a9d0554" id="r_a566277d44fc02828619810c36a9d0554"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a566277d44fc02828619810c36a9d0554">lor_set_channel</a> (<a class="el" href="tinylor_8h.html#a21b6c8a1aeccc60b23dfe926c442fb9b">lor_req_s</a> *req, <a class="el" href="tinylor_8h.html#ac926201d73d18b9f7fe0459982e8a847">lor_channel</a> c)</td></tr>
<tr class="memdesc:a566277d44fc02828619810c36a9d0554"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures the request to use a single, absolute channel.  <br /></td></tr>
<tr class="separator:a566277d44fc02828619810c36a9d0554"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c595977c627eb08ba9181af8d8e7f39" id="r_a4c595977c627eb08ba9181af8d8e7f39"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4c595977c627eb08ba9181af8d8e7f39">lor_set_channels</a> (<a class="el" href="tinylor_8h.html#a21b6c8a1aeccc60b23dfe926c442fb9b">lor_req_s</a> *req, <a class="el" href="tinylor_8h.html#ac926201d73d18b9f7fe0459982e8a847">lor_channel</a> first, const unsigned short cbits)</td></tr>
<tr class="memdesc:a4c595977c627eb08ba9181af8d8e7f39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures the request to use a channel set, in the form of a 16-bit bitset of channels, "starting at" the first channel offset used.  <br /></td></tr>
<tr class="separator:a4c595977c627eb08ba9181af8d8e7f39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac93a0236ee2cb3a98985b801d2776071" id="r_ac93a0236ee2cb3a98985b801d2776071"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac93a0236ee2cb3a98985b801d2776071">lor_set_unit</a> (<a class="el" href="tinylor_8h.html#a21b6c8a1aeccc60b23dfe926c442fb9b">lor_req_s</a> *req, const <a class="el" href="tinylor_8h.html#a29f01bedc9c4dee6231cdd02d08c328d">lor_unit</a> u)</td></tr>
<tr class="memdesc:ac93a0236ee2cb3a98985b801d2776071"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures the request to be sent to the specified unit. A unit is required for all requests. A magic value of 0xFF may be used to broadcast the request to all units.  <br /></td></tr>
<tr class="separator:ac93a0236ee2cb3a98985b801d2776071"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4cb99bc098c81c14dd0ba2edb2d5d44" id="r_ae4cb99bc098c81c14dd0ba2edb2d5d44"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae4cb99bc098c81c14dd0ba2edb2d5d44">lor_set_effect</a> (<a class="el" href="tinylor_8h.html#a21b6c8a1aeccc60b23dfe926c442fb9b">lor_req_s</a> *req, const <a class="el" href="tinylor_8h.html#a0bf67fce0efbd914371633a37546e9dd">lor_effect</a> e, const <a class="el" href="tinylor_8h.html#a3a06f9eeb81508ef0077af1dc5ffedac">lor_effect_args_u</a> *args)</td></tr>
<tr class="memdesc:ae4cb99bc098c81c14dd0ba2edb2d5d44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures the request to apply the specified effect. The effect may require additional arguments, which are provided in the args field as a union. If provided, the args field is copied into the request at which point the caller may safely discard the original args. Any non-NULL arguments will be copied into the request, even if the effect does not require them. This allows future expansion of usable effects without modifying the behavior of the function.  <br /></td></tr>
<tr class="separator:ae4cb99bc098c81c14dd0ba2edb2d5d44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c3e73ba4428c615b43131ae8e597268" id="r_a3c3e73ba4428c615b43131ae8e597268"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3c3e73ba4428c615b43131ae8e597268">lor_set_intensity</a> (<a class="el" href="tinylor_8h.html#a21b6c8a1aeccc60b23dfe926c442fb9b">lor_req_s</a> *req, const <a class="el" href="tinylor_8h.html#a9ca5a7b907afcda321d37df3cd062b04">lor_intensity</a> i)</td></tr>
<tr class="memdesc:a3c3e73ba4428c615b43131ae8e597268"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures the request to set the intensity of the lights to the provided value.  <br /></td></tr>
<tr class="separator:a3c3e73ba4428c615b43131ae8e597268"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a006c7ebaa6a8830a21f9a2403c79ec10" id="r_a006c7ebaa6a8830a21f9a2403c79ec10"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a006c7ebaa6a8830a21f9a2403c79ec10">lor_set_fade</a> (<a class="el" href="tinylor_8h.html#a21b6c8a1aeccc60b23dfe926c442fb9b">lor_req_s</a> *req, const <a class="el" href="tinylor_8h.html#a9ca5a7b907afcda321d37df3cd062b04">lor_intensity</a> start, const <a class="el" href="tinylor_8h.html#a9ca5a7b907afcda321d37df3cd062b04">lor_intensity</a> end, const <a class="el" href="tinylor_8h.html#ac6e8cd8c3cd2d1376e20119fdac44253">lor_decisec</a> ds)</td></tr>
<tr class="memdesc:a006c7ebaa6a8830a21f9a2403c79ec10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures the request to fade from one intensity to another over a specified duration in deciseconds.  <br /></td></tr>
<tr class="separator:a006c7ebaa6a8830a21f9a2403c79ec10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00e1c21c0422712e73d698429b8f51bb" id="r_a00e1c21c0422712e73d698429b8f51bb"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="tinylor_8h.html#af1a01cca8cbddf9afb6ea3a90d03a149">lor_channel_format</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a00e1c21c0422712e73d698429b8f51bb">lor_get_cset_format</a> (const <a class="el" href="structlor__channel__set.html">lor_channel_set</a> *const cset)</td></tr>
<tr class="memdesc:a00e1c21c0422712e73d698429b8f51bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines the compressed format of the channel set for encoding.  <br /></td></tr>
<tr class="separator:a00e1c21c0422712e73d698429b8f51bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0352eb57d0ea7972c5f976a289b3e147" id="r_a0352eb57d0ea7972c5f976a289b3e147"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0352eb57d0ea7972c5f976a289b3e147">lor_encode_cset</a> (unsigned char *const b, const <a class="el" href="structlor__channel__set.html">lor_channel_set</a> *const cset)</td></tr>
<tr class="memdesc:a0352eb57d0ea7972c5f976a289b3e147"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encodes a channel set into a buffer.  <br /></td></tr>
<tr class="separator:a0352eb57d0ea7972c5f976a289b3e147"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d8d0afbb593c3d6444cb012cdf4d074" id="r_a8d8d0afbb593c3d6444cb012cdf4d074"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8d8d0afbb593c3d6444cb012cdf4d074">lor_encode_decis</a> (unsigned char *b, const <a class="el" href="tinylor_8h.html#ac6e8cd8c3cd2d1376e20119fdac44253">lor_decisec</a> ds)</td></tr>
<tr class="memdesc:a8d8d0afbb593c3d6444cb012cdf4d074"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encodes a decisecond value into a 2-byte buffer.  <br /></td></tr>
<tr class="separator:a8d8d0afbb593c3d6444cb012cdf4d074"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a170a89a6274a97734b00f12ff1b6edb4" id="r_a170a89a6274a97734b00f12ff1b6edb4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a170a89a6274a97734b00f12ff1b6edb4">lor_encode_effect</a> (unsigned char *const b, const <a class="el" href="tinylor_8h.html#a0bf67fce0efbd914371633a37546e9dd">lor_effect</a> e, const <a class="el" href="tinylor_8h.html#a3a06f9eeb81508ef0077af1dc5ffedac">lor_effect_args_u</a> *const d)</td></tr>
<tr class="memdesc:a170a89a6274a97734b00f12ff1b6edb4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encodes an effect into a buffer, including any required arguments for the effect type.  <br /></td></tr>
<tr class="separator:a170a89a6274a97734b00f12ff1b6edb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6ce8df32486df8bb07576bef6b28fed" id="r_ab6ce8df32486df8bb07576bef6b28fed"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab6ce8df32486df8bb07576bef6b28fed">lor_write</a> (unsigned char *b, const size_t bs, const <a class="el" href="tinylor_8h.html#a21b6c8a1aeccc60b23dfe926c442fb9b">lor_req_s</a> *r, const size_t rs)</td></tr>
<tr class="memdesc:ab6ce8df32486df8bb07576bef6b28fed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encodes and writes up to <code>rs</code> requests to the provided buffer <code>b</code> as binary data. Requests are first encoded into a scratch buffer to ensure the buffer has enough space to hold the encoded data. The function will attempt to write as many requests as possible to the buffer, up to the provided request count.  <br /></td></tr>
<tr class="separator:ab6ce8df32486df8bb07576bef6b28fed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe05723e473135872bca01f760602054" id="r_afe05723e473135872bca01f760602054"><td class="memItemLeft" align="right" valign="top"><a class="el" href="tinylor_8h.html#a9ca5a7b907afcda321d37df3cd062b04">lor_intensity</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afe05723e473135872bca01f760602054">lor_get_intensity</a> (const unsigned char b)</td></tr>
<tr class="memdesc:afe05723e473135872bca01f760602054"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encodes a [0,0xFF] value into a roughly equivalent LOR intensity value (precision is lossy) that is compatible with the protocol.  <br /></td></tr>
<tr class="separator:afe05723e473135872bca01f760602054"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Protocol encoding functions implementation. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a0352eb57d0ea7972c5f976a289b3e147" name="a0352eb57d0ea7972c5f976a289b3e147"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0352eb57d0ea7972c5f976a289b3e147">&#9670;&#160;</a></span>lor_encode_cset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lor_encode_cset </td>
          <td>(</td>
          <td class="paramtype">unsigned char *const</td>          <td class="paramname"><span class="paramname"><em>b</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structlor__channel__set.html">lor_channel_set</a> *const</td>          <td class="paramname"><span class="paramname"><em>cset</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Encodes a channel set into a buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">b</td><td>The buffer to write the channel set to. </td></tr>
    <tr><td class="paramname">cset</td><td>The channel set to encode. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes written to the buffer. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Caller is responsible for ensuring buffer is at least 3 bytes in size. </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tinylor_8c_a0352eb57d0ea7972c5f976a289b3e147_icgraph.png" border="0" usemap="#atinylor_8c_a0352eb57d0ea7972c5f976a289b3e147_icgraph" alt=""/></div>
<map name="atinylor_8c_a0352eb57d0ea7972c5f976a289b3e147_icgraph" id="atinylor_8c_a0352eb57d0ea7972c5f976a289b3e147_icgraph">
<area shape="rect" title="Encodes a channel set into a buffer." alt="" coords="408,13,525,38"/>
<area shape="rect" href="tinylor_8c.html#ab6ce8df32486df8bb07576bef6b28fed" title="Encodes and writes up to rs requests to the provided buffer b as binary data. Requests are first enco..." alt="" coords="290,13,360,38"/>
<area shape="poly" title=" " alt="" coords="393,28,361,28,361,23,393,23"/>
<area shape="rect" href="tinylor__test_8c.html#a9d616a784fa4fd0d9358ad2735370e42" title="Tests the channel format header byte selection." alt="" coords="103,5,242,46"/>
<area shape="poly" title=" " alt="" coords="274,28,242,28,242,23,274,23"/>
<area shape="rect" href="tinylor__test_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="5,13,55,38"/>
<area shape="poly" title=" " alt="" coords="87,28,55,28,55,23,87,23"/>
</map>
</div>

</div>
</div>
<a id="a8d8d0afbb593c3d6444cb012cdf4d074" name="a8d8d0afbb593c3d6444cb012cdf4d074"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d8d0afbb593c3d6444cb012cdf4d074">&#9670;&#160;</a></span>lor_encode_decis()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lor_encode_decis </td>
          <td>(</td>
          <td class="paramtype">unsigned char *</td>          <td class="paramname"><span class="paramname"><em>b</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="tinylor_8h.html#ac6e8cd8c3cd2d1376e20119fdac44253">lor_decisec</a></td>          <td class="paramname"><span class="paramname"><em>ds</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Encodes a decisecond value into a 2-byte buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">b</td><td>The buffer to write the decisecond value to. </td></tr>
    <tr><td class="paramname">ds</td><td>The decisecond value to encode. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes written to the buffer. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Caller is responsible for ensuring buffer is at least 2 bytes in size. </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tinylor_8c_a8d8d0afbb593c3d6444cb012cdf4d074_icgraph.png" border="0" usemap="#atinylor_8c_a8d8d0afbb593c3d6444cb012cdf4d074_icgraph" alt=""/></div>
<map name="atinylor_8c_a8d8d0afbb593c3d6444cb012cdf4d074_icgraph" id="atinylor_8c_a8d8d0afbb593c3d6444cb012cdf4d074_icgraph">
<area shape="rect" title="Encodes a decisecond value into a 2&#45;byte buffer." alt="" coords="581,13,703,38"/>
<area shape="rect" href="tinylor_8c.html#a170a89a6274a97734b00f12ff1b6edb4" title="Encodes an effect into a buffer, including any required arguments for the effect type." alt="" coords="408,13,533,38"/>
<area shape="poly" title=" " alt="" coords="565,28,533,28,533,23,565,23"/>
<area shape="rect" href="tinylor_8c.html#ab6ce8df32486df8bb07576bef6b28fed" title="Encodes and writes up to rs requests to the provided buffer b as binary data. Requests are first enco..." alt="" coords="290,13,360,38"/>
<area shape="poly" title=" " alt="" coords="393,28,361,28,361,23,393,23"/>
<area shape="rect" href="tinylor__test_8c.html#a9d616a784fa4fd0d9358ad2735370e42" title="Tests the channel format header byte selection." alt="" coords="103,5,242,46"/>
<area shape="poly" title=" " alt="" coords="274,28,242,28,242,23,274,23"/>
<area shape="rect" href="tinylor__test_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="5,13,55,38"/>
<area shape="poly" title=" " alt="" coords="87,28,55,28,55,23,87,23"/>
</map>
</div>

</div>
</div>
<a id="a170a89a6274a97734b00f12ff1b6edb4" name="a170a89a6274a97734b00f12ff1b6edb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a170a89a6274a97734b00f12ff1b6edb4">&#9670;&#160;</a></span>lor_encode_effect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lor_encode_effect </td>
          <td>(</td>
          <td class="paramtype">unsigned char *const</td>          <td class="paramname"><span class="paramname"><em>b</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="tinylor_8h.html#a0bf67fce0efbd914371633a37546e9dd">lor_effect</a></td>          <td class="paramname"><span class="paramname"><em>e</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="tinylor_8h.html#a3a06f9eeb81508ef0077af1dc5ffedac">lor_effect_args_u</a> *const</td>          <td class="paramname"><span class="paramname"><em>d</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Encodes an effect into a buffer, including any required arguments for the effect type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">b</td><td>The buffer to write the effect to. </td></tr>
    <tr><td class="paramname">e</td><td>The effect to encode. </td></tr>
    <tr><td class="paramname">d</td><td>Optional effect arguments to encode. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes written to the buffer. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Caller is responsible for ensuring buffer is large enough to hold the encoded effect and arguments. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tinylor_8c_a170a89a6274a97734b00f12ff1b6edb4_cgraph.png" border="0" usemap="#atinylor_8c_a170a89a6274a97734b00f12ff1b6edb4_cgraph" alt=""/></div>
<map name="atinylor_8c_a170a89a6274a97734b00f12ff1b6edb4_cgraph" id="atinylor_8c_a170a89a6274a97734b00f12ff1b6edb4_cgraph">
<area shape="rect" title="Encodes an effect into a buffer, including any required arguments for the effect type." alt="" coords="5,5,130,31"/>
<area shape="rect" href="tinylor_8c.html#a8d8d0afbb593c3d6444cb012cdf4d074" title="Encodes a decisecond value into a 2&#45;byte buffer." alt="" coords="178,5,300,31"/>
<area shape="poly" title=" " alt="" coords="130,16,162,16,162,21,130,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tinylor_8c_a170a89a6274a97734b00f12ff1b6edb4_icgraph.png" border="0" usemap="#atinylor_8c_a170a89a6274a97734b00f12ff1b6edb4_icgraph" alt=""/></div>
<map name="atinylor_8c_a170a89a6274a97734b00f12ff1b6edb4_icgraph" id="atinylor_8c_a170a89a6274a97734b00f12ff1b6edb4_icgraph">
<area shape="rect" title="Encodes an effect into a buffer, including any required arguments for the effect type." alt="" coords="408,13,533,38"/>
<area shape="rect" href="tinylor_8c.html#ab6ce8df32486df8bb07576bef6b28fed" title="Encodes and writes up to rs requests to the provided buffer b as binary data. Requests are first enco..." alt="" coords="290,13,360,38"/>
<area shape="poly" title=" " alt="" coords="393,28,361,28,361,23,393,23"/>
<area shape="rect" href="tinylor__test_8c.html#a9d616a784fa4fd0d9358ad2735370e42" title="Tests the channel format header byte selection." alt="" coords="103,5,242,46"/>
<area shape="poly" title=" " alt="" coords="274,28,242,28,242,23,274,23"/>
<area shape="rect" href="tinylor__test_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="5,13,55,38"/>
<area shape="poly" title=" " alt="" coords="87,28,55,28,55,23,87,23"/>
</map>
</div>

</div>
</div>
<a id="a00e1c21c0422712e73d698429b8f51bb" name="a00e1c21c0422712e73d698429b8f51bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00e1c21c0422712e73d698429b8f51bb">&#9670;&#160;</a></span>lor_get_cset_format()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="tinylor_8h.html#af1a01cca8cbddf9afb6ea3a90d03a149">lor_channel_format</a> lor_get_cset_format </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structlor__channel__set.html">lor_channel_set</a> *const</td>          <td class="paramname"><span class="paramname"><em>cset</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determines the compressed format of the channel set for encoding. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cset</td><td>The channel set to determine the format of. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The format byte header of the channel set for protocol encoding. </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tinylor_8c_a00e1c21c0422712e73d698429b8f51bb_icgraph.png" border="0" usemap="#atinylor_8c_a00e1c21c0422712e73d698429b8f51bb_icgraph" alt=""/></div>
<map name="atinylor_8c_a00e1c21c0422712e73d698429b8f51bb_icgraph" id="atinylor_8c_a00e1c21c0422712e73d698429b8f51bb_icgraph">
<area shape="rect" title="Determines the compressed format of the channel set for encoding." alt="" coords="408,13,545,38"/>
<area shape="rect" href="tinylor_8c.html#ab6ce8df32486df8bb07576bef6b28fed" title="Encodes and writes up to rs requests to the provided buffer b as binary data. Requests are first enco..." alt="" coords="290,13,360,38"/>
<area shape="poly" title=" " alt="" coords="392,28,361,28,361,23,392,23"/>
<area shape="rect" href="tinylor__test_8c.html#a9d616a784fa4fd0d9358ad2735370e42" title="Tests the channel format header byte selection." alt="" coords="103,5,242,46"/>
<area shape="poly" title=" " alt="" coords="274,28,242,28,242,23,274,23"/>
<area shape="rect" href="tinylor__test_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="5,13,55,38"/>
<area shape="poly" title=" " alt="" coords="87,28,55,28,55,23,87,23"/>
</map>
</div>

</div>
</div>
<a id="afe05723e473135872bca01f760602054" name="afe05723e473135872bca01f760602054"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe05723e473135872bca01f760602054">&#9670;&#160;</a></span>lor_get_intensity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="tinylor_8h.html#a9ca5a7b907afcda321d37df3cd062b04">lor_intensity</a> lor_get_intensity </td>
          <td>(</td>
          <td class="paramtype">unsigned char</td>          <td class="paramname"><span class="paramname"><em>b</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encodes a [0,0xFF] value into a roughly equivalent LOR intensity value (precision is lossy) that is compatible with the protocol. </p>
<dl class="section note"><dt>Note</dt><dd>This is a default implementation of the lor_intensity_fn type. It operates via a known truth table from protocol documentation. Other or custom implementations may be ideal for your specific use case. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">b</td><td>The byte value to convert. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The scaled intensity value. </dd></dl>

</div>
</div>
<a id="a566277d44fc02828619810c36a9d0554" name="a566277d44fc02828619810c36a9d0554"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a566277d44fc02828619810c36a9d0554">&#9670;&#160;</a></span>lor_set_channel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lor_set_channel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tinylor_8h.html#a21b6c8a1aeccc60b23dfe926c442fb9b">lor_req_s</a> *</td>          <td class="paramname"><span class="paramname"><em>req</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tinylor_8h.html#ac926201d73d18b9f7fe0459982e8a847">lor_channel</a></td>          <td class="paramname"><span class="paramname"><em>c</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures the request to use a single, absolute channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">req</td><td>The request to configure. </td></tr>
    <tr><td class="paramname">c</td><td>The single, absolute channel to apply the effect to, less than 1024. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4c595977c627eb08ba9181af8d8e7f39" name="a4c595977c627eb08ba9181af8d8e7f39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c595977c627eb08ba9181af8d8e7f39">&#9670;&#160;</a></span>lor_set_channels()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lor_set_channels </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tinylor_8h.html#a21b6c8a1aeccc60b23dfe926c442fb9b">lor_req_s</a> *</td>          <td class="paramname"><span class="paramname"><em>req</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tinylor_8h.html#ac926201d73d18b9f7fe0459982e8a847">lor_channel</a></td>          <td class="paramname"><span class="paramname"><em>first</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short</td>          <td class="paramname"><span class="paramname"><em>cbits</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures the request to use a channel set, in the form of a 16-bit bitset of channels, "starting at" the first channel offset used. </p>
<dl class="section note"><dt>Note</dt><dd>Any bits within the set that (once re-aligned to a 16-bit boundary) exceed the 16-bit window, will be disregarded. Pre-aligned 16-bit bitsets are recommended for best results. You may set the request's cset offset and cbits fields directly. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">req</td><td>The request to configure. </td></tr>
    <tr><td class="paramname">first</td><td>The first channel in the set. </td></tr>
    <tr><td class="paramname">cbits</td><td>The 16-bit bitset of channels to apply the effect to. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tinylor_8c_a4c595977c627eb08ba9181af8d8e7f39_icgraph.png" border="0" usemap="#atinylor_8c_a4c595977c627eb08ba9181af8d8e7f39_icgraph" alt=""/></div>
<map name="atinylor_8c_a4c595977c627eb08ba9181af8d8e7f39_icgraph" id="atinylor_8c_a4c595977c627eb08ba9181af8d8e7f39_icgraph">
<area shape="rect" title="Configures the request to use a channel set, in the form of a 16&#45;bit bitset of channels,..." alt="" coords="309,35,428,60"/>
<area shape="rect" href="tinylor__test_8c.html#a2402d84378fdc3e3ae207addeb571998" title="Tests the channel alignment calculation." alt="" coords="103,5,261,31"/>
<area shape="poly" title=" " alt="" coords="293,38,261,33,262,28,294,33"/>
<area shape="rect" href="tinylor__test_8c.html#a9d616a784fa4fd0d9358ad2735370e42" title="Tests the channel format header byte selection." alt="" coords="112,55,252,96"/>
<area shape="poly" title=" " alt="" coords="294,61,252,68,251,62,293,56"/>
<area shape="rect" href="tinylor__test_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="5,35,55,60"/>
<area shape="poly" title=" " alt="" coords="98,37,56,45,55,40,97,32"/>
<area shape="poly" title=" " alt="" coords="96,62,55,55,56,49,97,57"/>
</map>
</div>

</div>
</div>
<a id="ae4cb99bc098c81c14dd0ba2edb2d5d44" name="ae4cb99bc098c81c14dd0ba2edb2d5d44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4cb99bc098c81c14dd0ba2edb2d5d44">&#9670;&#160;</a></span>lor_set_effect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lor_set_effect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tinylor_8h.html#a21b6c8a1aeccc60b23dfe926c442fb9b">lor_req_s</a> *</td>          <td class="paramname"><span class="paramname"><em>req</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tinylor_8h.html#a0bf67fce0efbd914371633a37546e9dd">lor_effect</a></td>          <td class="paramname"><span class="paramname"><em>e</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="tinylor_8h.html#a3a06f9eeb81508ef0077af1dc5ffedac">lor_effect_args_u</a> *</td>          <td class="paramname"><span class="paramname"><em>args</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures the request to apply the specified effect. The effect may require additional arguments, which are provided in the args field as a union. If provided, the args field is copied into the request at which point the caller may safely discard the original args. Any non-NULL arguments will be copied into the request, even if the effect does not require them. This allows future expansion of usable effects without modifying the behavior of the function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">req</td><td>The request to configure. </td></tr>
    <tr><td class="paramname">e</td><td>The effect to apply. </td></tr>
    <tr><td class="paramname">args</td><td>The effect arguments, required if effect is LOR_SET_INTENSITY, LOR_FADE, LOR_PULSE, or LOR_SET_DMX_INTENSITY. Should likely be NULL for other effect types. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 for invalid arguments. </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tinylor_8c_ae4cb99bc098c81c14dd0ba2edb2d5d44_icgraph.png" border="0" usemap="#atinylor_8c_ae4cb99bc098c81c14dd0ba2edb2d5d44_icgraph" alt=""/></div>
<map name="atinylor_8c_ae4cb99bc098c81c14dd0ba2edb2d5d44_icgraph" id="atinylor_8c_ae4cb99bc098c81c14dd0ba2edb2d5d44_icgraph">
<area shape="rect" title="Configures the request to apply the specified effect. The effect may require additional arguments,..." alt="" coords="290,55,390,80"/>
<area shape="rect" href="tinylor_8c.html#a006c7ebaa6a8830a21f9a2403c79ec10" title="Configures the request to fade from one intensity to another over a specified duration in deciseconds..." alt="" coords="126,5,218,31"/>
<area shape="poly" title=" " alt="" coords="279,52,218,34,220,29,280,47"/>
<area shape="rect" href="tinylor_8c.html#a3c3e73ba4428c615b43131ae8e597268" title="Configures the request to set the intensity of the lights to the provided value." alt="" coords="114,55,230,80"/>
<area shape="poly" title=" " alt="" coords="275,70,231,70,231,65,275,65"/>
<area shape="rect" href="tinylor__test_8c.html#a9d616a784fa4fd0d9358ad2735370e42" title="Tests the channel format header byte selection." alt="" coords="103,104,242,145"/>
<area shape="poly" title=" " alt="" coords="286,88,235,106,233,101,285,83"/>
<area shape="rect" href="tinylor__test_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="5,112,55,138"/>
<area shape="poly" title=" " alt="" coords="87,128,55,128,55,122,87,122"/>
</map>
</div>

</div>
</div>
<a id="a006c7ebaa6a8830a21f9a2403c79ec10" name="a006c7ebaa6a8830a21f9a2403c79ec10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a006c7ebaa6a8830a21f9a2403c79ec10">&#9670;&#160;</a></span>lor_set_fade()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lor_set_fade </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tinylor_8h.html#a21b6c8a1aeccc60b23dfe926c442fb9b">lor_req_s</a> *</td>          <td class="paramname"><span class="paramname"><em>req</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tinylor_8h.html#a9ca5a7b907afcda321d37df3cd062b04">lor_intensity</a></td>          <td class="paramname"><span class="paramname"><em>start</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tinylor_8h.html#a9ca5a7b907afcda321d37df3cd062b04">lor_intensity</a></td>          <td class="paramname"><span class="paramname"><em>end</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tinylor_8h.html#ac6e8cd8c3cd2d1376e20119fdac44253">lor_decisec</a></td>          <td class="paramname"><span class="paramname"><em>ds</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures the request to fade from one intensity to another over a specified duration in deciseconds. </p>
<dl class="section note"><dt>Note</dt><dd>Equivalent to calling lor_set_effect with LOR_FADE and effect arguments set to the provided start and end intensities and duration. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">req</td><td>The request to configure. </td></tr>
    <tr><td class="paramname">start</td><td>The starting intensity. </td></tr>
    <tr><td class="paramname">end</td><td>The ending intensity. </td></tr>
    <tr><td class="paramname">ds</td><td>The duration of the fade in deciseconds. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tinylor_8c_a006c7ebaa6a8830a21f9a2403c79ec10_cgraph.png" border="0" usemap="#atinylor_8c_a006c7ebaa6a8830a21f9a2403c79ec10_cgraph" alt=""/></div>
<map name="atinylor_8c_a006c7ebaa6a8830a21f9a2403c79ec10_cgraph" id="atinylor_8c_a006c7ebaa6a8830a21f9a2403c79ec10_cgraph">
<area shape="rect" title="Configures the request to fade from one intensity to another over a specified duration in deciseconds..." alt="" coords="5,5,98,31"/>
<area shape="rect" href="tinylor_8c.html#ae4cb99bc098c81c14dd0ba2edb2d5d44" title="Configures the request to apply the specified effect. The effect may require additional arguments,..." alt="" coords="146,5,246,31"/>
<area shape="poly" title=" " alt="" coords="98,16,130,16,130,21,98,21"/>
</map>
</div>

</div>
</div>
<a id="a3c3e73ba4428c615b43131ae8e597268" name="a3c3e73ba4428c615b43131ae8e597268"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c3e73ba4428c615b43131ae8e597268">&#9670;&#160;</a></span>lor_set_intensity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lor_set_intensity </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tinylor_8h.html#a21b6c8a1aeccc60b23dfe926c442fb9b">lor_req_s</a> *</td>          <td class="paramname"><span class="paramname"><em>req</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tinylor_8h.html#a9ca5a7b907afcda321d37df3cd062b04">lor_intensity</a></td>          <td class="paramname"><span class="paramname"><em>i</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures the request to set the intensity of the lights to the provided value. </p>
<dl class="section note"><dt>Note</dt><dd>Equivalent to calling lor_set_effect with LOR_SET_INTENSITY and effect arguments set to the provided intensity. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">req</td><td>The request to configure. </td></tr>
    <tr><td class="paramname">i</td><td>The intensity to use. This value should likely pass through a intensity conversion function before being passed to this function. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tinylor_8c_a3c3e73ba4428c615b43131ae8e597268_cgraph.png" border="0" usemap="#atinylor_8c_a3c3e73ba4428c615b43131ae8e597268_cgraph" alt=""/></div>
<map name="atinylor_8c_a3c3e73ba4428c615b43131ae8e597268_cgraph" id="atinylor_8c_a3c3e73ba4428c615b43131ae8e597268_cgraph">
<area shape="rect" title="Configures the request to set the intensity of the lights to the provided value." alt="" coords="5,5,122,31"/>
<area shape="rect" href="tinylor_8c.html#ae4cb99bc098c81c14dd0ba2edb2d5d44" title="Configures the request to apply the specified effect. The effect may require additional arguments,..." alt="" coords="170,5,270,31"/>
<area shape="poly" title=" " alt="" coords="122,16,154,16,154,21,122,21"/>
</map>
</div>

</div>
</div>
<a id="ac93a0236ee2cb3a98985b801d2776071" name="ac93a0236ee2cb3a98985b801d2776071"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac93a0236ee2cb3a98985b801d2776071">&#9670;&#160;</a></span>lor_set_unit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lor_set_unit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tinylor_8h.html#a21b6c8a1aeccc60b23dfe926c442fb9b">lor_req_s</a> *</td>          <td class="paramname"><span class="paramname"><em>req</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tinylor_8h.html#a29f01bedc9c4dee6231cdd02d08c328d">lor_unit</a></td>          <td class="paramname"><span class="paramname"><em>u</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures the request to be sent to the specified unit. A unit is required for all requests. A magic value of 0xFF may be used to broadcast the request to all units. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">req</td><td>The request to configure. </td></tr>
    <tr><td class="paramname">u</td><td>The unit to send the request to, or 0xFF to broadcast to all units. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tinylor_8c_ac93a0236ee2cb3a98985b801d2776071_icgraph.png" border="0" usemap="#atinylor_8c_ac93a0236ee2cb3a98985b801d2776071_icgraph" alt=""/></div>
<map name="atinylor_8c_ac93a0236ee2cb3a98985b801d2776071_icgraph" id="atinylor_8c_ac93a0236ee2cb3a98985b801d2776071_icgraph">
<area shape="rect" title="Configures the request to be sent to the specified unit. A unit is required for all requests...." alt="" coords="290,13,378,38"/>
<area shape="rect" href="tinylor__test_8c.html#a9d616a784fa4fd0d9358ad2735370e42" title="Tests the channel format header byte selection." alt="" coords="103,5,242,46"/>
<area shape="poly" title=" " alt="" coords="274,28,242,28,242,23,274,23"/>
<area shape="rect" href="tinylor__test_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="5,13,55,38"/>
<area shape="poly" title=" " alt="" coords="87,28,55,28,55,23,87,23"/>
</map>
</div>

</div>
</div>
<a id="ab6ce8df32486df8bb07576bef6b28fed" name="ab6ce8df32486df8bb07576bef6b28fed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6ce8df32486df8bb07576bef6b28fed">&#9670;&#160;</a></span>lor_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t lor_write </td>
          <td>(</td>
          <td class="paramtype">unsigned char *</td>          <td class="paramname"><span class="paramname"><em>b</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>bs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="tinylor_8h.html#a21b6c8a1aeccc60b23dfe926c442fb9b">lor_req_s</a> *</td>          <td class="paramname"><span class="paramname"><em>r</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>rs</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encodes and writes up to <code>rs</code> requests to the provided buffer <code>b</code> as binary data. Requests are first encoded into a scratch buffer to ensure the buffer has enough space to hold the encoded data. The function will attempt to write as many requests as possible to the buffer, up to the provided request count. </p>
<dl class="section return"><dt>Returns</dt><dd>If all requests were written, the number of bytes written to the buffer is returned. If the buffer is too small to hold all requests, the number of bytes required to hold at least one additional request is returned. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tinylor_8c_ab6ce8df32486df8bb07576bef6b28fed_cgraph.png" border="0" usemap="#atinylor_8c_ab6ce8df32486df8bb07576bef6b28fed_cgraph" alt=""/></div>
<map name="atinylor_8c_ab6ce8df32486df8bb07576bef6b28fed_cgraph" id="atinylor_8c_ab6ce8df32486df8bb07576bef6b28fed_cgraph">
<area shape="rect" title="Encodes and writes up to rs requests to the provided buffer b as binary data. Requests are first enco..." alt="" coords="5,55,76,80"/>
<area shape="rect" href="tinylor_8c.html#a0352eb57d0ea7972c5f976a289b3e147" title="Encodes a channel set into a buffer." alt="" coords="134,5,250,31"/>
<area shape="poly" title=" " alt="" coords="75,54,135,34,137,39,77,59"/>
<area shape="rect" href="tinylor_8c.html#a170a89a6274a97734b00f12ff1b6edb4" title="Encodes an effect into a buffer, including any required arguments for the effect type." alt="" coords="130,55,254,80"/>
<area shape="poly" title=" " alt="" coords="76,65,114,65,114,70,76,70"/>
<area shape="rect" href="tinylor_8c.html#a00e1c21c0422712e73d698429b8f51bb" title="Determines the compressed format of the channel set for encoding." alt="" coords="124,104,260,130"/>
<area shape="poly" title=" " alt="" coords="77,76,137,96,135,101,75,81"/>
<area shape="rect" href="tinylor_8c.html#a8d8d0afbb593c3d6444cb012cdf4d074" title="Encodes a decisecond value into a 2&#45;byte buffer." alt="" coords="308,55,430,80"/>
<area shape="poly" title=" " alt="" coords="254,65,292,65,292,70,254,70"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tinylor_8c_ab6ce8df32486df8bb07576bef6b28fed_icgraph.png" border="0" usemap="#atinylor_8c_ab6ce8df32486df8bb07576bef6b28fed_icgraph" alt=""/></div>
<map name="atinylor_8c_ab6ce8df32486df8bb07576bef6b28fed_icgraph" id="atinylor_8c_ab6ce8df32486df8bb07576bef6b28fed_icgraph">
<area shape="rect" title="Encodes and writes up to rs requests to the provided buffer b as binary data. Requests are first enco..." alt="" coords="290,13,360,38"/>
<area shape="rect" href="tinylor__test_8c.html#a9d616a784fa4fd0d9358ad2735370e42" title="Tests the channel format header byte selection." alt="" coords="103,5,242,46"/>
<area shape="poly" title=" " alt="" coords="274,28,242,28,242,23,274,23"/>
<area shape="rect" href="tinylor__test_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="5,13,55,38"/>
<area shape="poly" title=" " alt="" coords="87,28,55,28,55,23,87,23"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="tinylor_8c.html">tinylor.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
